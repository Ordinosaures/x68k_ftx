==========================================================================
                テキストプレーンフォント表示ライブラリ FTX
                         ver 2.01     by よっしん
==========================================================================




==========================================================================
                                   説明
==========================================================================

FTX は SHARP X680x0 シリーズ上で利用可能なフォント表示ライブラリです。以下
のような機能を持ちます。

1) テキストプレーン上に 8x8 または 16x16 ドットの 16 色フォントを描画可能

2) フォントデータは、スプライト PCG データから変換可能



==========================================================================
                           FTX の使用手順の概略
==========================================================================

使用手順の概略は以下のようになります。詳細は各関数の説明の項目、またはサン
プルコードをご参照下さい。


・フォントデータの作成

    フォントデータ作成には、一般的なスプライトエディタが利用可能です。スプ
    ライトツール SM.X（Oh!X 1992年6月号付録）又は、EEL.X（CATsoft/GORRY氏
    作）等でセーブしたスプライト PCG データ（拡張子.SP）を、CVFNT.X で変換
    し、FTX が利用可能なフォント PCG データに変換します。

    もしくは、ftx_fnt16_cnv 関数を利用して、ランタイム時にスプライト PCG 
    データから変換することも可能です。

    パレットデータは、スプライトパレットと同じ形式が利用できます。


・初期化時

    ftx_pcgdat_set 関数でフォント PCG データを指定します。ftx_palette_set
    関数でフォントのパレットを設定します。これらはいつでも再設定可能なので
    ゲームのメインループ中でも実行できます。


・ゲームのメインループ中

    8x8 ドットフォントは ftx_fnt8_put で、16x16 ドットフォントは
    ftx_fnt16_put で描画します。

    全テキストプレーンをクリアしたい場合は、ftx_clr 関数を利用します。テキ
    ストプレーンをスクロールさせたい場合は、ftx_scroll_set 関数を実行しま
    す。


==========================================================================
                             関数のコール方法
==========================================================================

各関数は C 言語のコール方式のみ対応となっています。アセンブラから使用する
場合は、C 言語のコール方式に準拠して下さい。



==========================================================================
                               各関数の説明
==========================================================================


● フォント PCG データの指定

書式：void ftx_pcgdat_set(const void *pcg_dat);

引数：void *pcg_dat : フォント PCG データのポインタ

戻り値：無し

機能：FTX のフォント PCG データを指定します。フォント描画関数を呼ぶ前に必
      ず実行して下さい。

      フォントデータを差し替えたい場合は、本関数を再度実行して下さい。

      フォント PCG データは偶数アドレスから置かれている必要があります。従っ
      て、アセンブラから使用する場合は偶数整合を必ず行なって下さい。C 言語
      から使用する場合は、初期値無しの char 型配列変数として宣言するか、
      short 型、又は int 型配列変数として宣言して下さい（GCC でコンパイル
      する場合、初期値有りの char 型配列変数は、スイッチの有無に関係無く偶
      数整合が実行されないので注意してください（真里子版 GCC VER 1.29 で確
      認）。



--------------------------------------------------------------------------

● 8x8 ドットフォントの描画

書式：void ftx_fnt8_put(short x, short y, short cd);

引数：short x  : X 座標（0〜127）
      short y  : Y 座標（0〜127）
      short cd : パターンナンバー（0〜65535）

戻り値：無し

機能：8x8 ドットフォントを描画します。

      範囲外の座標を指定した場合は、0〜127 の範囲にラップアラウンドした座標
      が利用されます。

      事前に ftx_pcgdat_set 関数でフォントデータを登録しておく必要がありま
      す。



--------------------------------------------------------------------------

● 16x16 ドットフォントの描画

書式：void ftx_fnt16_put(short x, short y, short cd);

引数：short x  : X 座標（0〜63）
      short y  : Y 座標（0〜63）
      short cd : パターンナンバー（0〜65535）

戻り値：無し

機能：16x16 ドットフォントを描画します。

      範囲外の座標を指定した場合は、0〜63 の範囲にラップアラウンドした座標
      が利用されます。

      事前に ftx_pcgdat_set 関数でフォントデータを登録しておく必要がありま
      す。


--------------------------------------------------------------------------

● テキストプレーンの全クリア

書式：void ftx_clr();

戻り値：無し

機能：テキスト画面を消去します。X-BASIC の cls 関数等では FTX で描画した
      フォントは消去できないので、本関数を使用してください。


--------------------------------------------------------------------------

● テキストプレーンのスクロール座標の指定

書式：void ftx_scroll_set(short x, short y);

引数：short x : X 座標（0〜1023） 
      short y : Y 座標（0〜1023） 

戻り値：無し

機能：テキスト画面のスクロール座標を指定します。テキスト画面は上下左右に
      ループしていますが、X 座標が 1023 を越える部分では、正しく表示され
      ないので注意してください。

戻り値：無し


--------------------------------------------------------------------------

● フォントのパレット指定

書式：void ftx_palette_set(short idx, short color);

引数：short idx   : パレットカラーインデクス（0〜15）
      short color : カラー値（0〜65535）

戻り値：無し

機能：フォントパレットの指定カラーを設定します。


--------------------------------------------------------------------------

● スプライト PCG をフォント PCG に変換

書式：void ftx_fnt16_cnv(const void *sp_pcg, void *fnt_pcg);

引数：const void *sp_pcg : 変換元のスプライト PCG のポインタ
      void *fnt_pcg      : フォント PCG 変換結果出力先のポインタ

戻り値：無し

機能：スプライト PCG をフォント PCG に変換します。
      引数 sp_pcg fnt_pcg が指す領域は、偶数アドレスに配置されている必要が
      あります。


==========================================================================
         お世話になった ツール & 書籍 & 参考にさせてもらったもの
==========================================================================

  HAS                                  Y.Nakamura氏作
  HLK                                  SALT氏作
  ED.R                                 S.Ueda氏作
  Inside X68000                        桑野雅彦氏著
  68000プログラマーズハンドブック      宍倉幸則氏著




==========================================================================
                                 変更履歴
==========================================================================
◎：バグ及び不具合修正に関するもの。
●：改良点及び変更点その他に関するもの。


ver. 1.00 : (1994/8)

  ● 初回バージョン。


ver. 2.00 : (1994/8〜時期不詳)

  ● API 名などを修正。


ver. 2.01 : (2021/1)

  ● github に移動。



